<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net9.0-windows10.0.19041.0</TargetFramework>
    <ImplicitUsings>disable</ImplicitUsings>
    <Nullable>disable</Nullable>
    <StartupObject>COMP302.Program</StartupObject>
    <AllowUnsafeBlocks>True</AllowUnsafeBlocks>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="MathNet.Numerics" Version="5.0.0" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\Planets\Planets.csproj" />
  </ItemGroup>

  <Target Name="PostBuild" AfterTargets="PostBuildEvent">
    <Exec Command="if not exist $(ProjectDir)Assets\Textures mkdir $(ProjectDir)Assets\Textures&#xD;&#xA;if not exist $(ProjectDir)Assets\Textures mkdir $(ProjectDir)Assets\Textures&#xD;&#xA;if not exist $(ProjectDir)Assets\Shaders mkdir $(ProjectDir)Assets\Shaders&#xD;&#xA;&#xD;&#xA;if not exist $(SolutionDir)Shaders mkdir $(SolutionDir)Shaders&#xD;&#xA;if not exist $(SolutionDir)Shaders\Compiled mkdir $(SolutionDir)Shaders\Compiled&#xD;&#xA;&#xD;&#xA;if not exist $(TargetDir)Assets\Textures mkdir $(TargetDir)Assets\Textures&#xD;&#xA;if not exist $(TargetDir)Assets\Shaders mkdir $(TargetDir)Assets\Shaders&#xD;&#xA;if not exist $(TargetDir)Assets\Models mkdir $(TargetDir)Assets\Models&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;XCOPY /s /y &quot;$(ProjectDir)Assets\Shaders&quot; &quot;$(SolutionDir)Shaders&quot;&#xD;&#xA;echo &quot;$(ProjectDir)Assets\Shaders&quot;&#xD;&#xA;&#xD;&#xA;for %25%25f in ($(SolutionDir)Shaders\*.vert) do (&#xD;&#xA;    echo %25%25~nf&#xD;&#xA;    $(VULKAN_SDK)\Bin\glslc.exe &quot;$(SolutionDir)Shaders\%25%25~nf.vert&quot; -o &quot;$(SolutionDir)Shaders\Compiled\%25%25~nf.vert.spv&quot;&#xD;&#xA;)&#xD;&#xA;echo &quot;compiled vertex shaders&quot;&#xD;&#xA;for %25%25f in ($(SolutionDir)Shaders\*.frag) do (&#xD;&#xA;    echo %25%25~nf&#xD;&#xA;    $(VULKAN_SDK)\Bin\glslc.exe &quot;$(SolutionDir)Shaders\%25%25~nf.frag&quot; -o &quot;$(SolutionDir)Shaders\Compiled\%25%25~nf.frag.spv&quot;&#xD;&#xA;)&#xD;&#xA;&#xD;&#xA;echo &quot;compiled fragment shaders&quot;&#xD;&#xA;&#xD;&#xA;for %25%25f in ($(SolutionDir)Shaders\*.comp) do (&#xD;&#xA;    echo %25%25~nf&#xD;&#xA;    $(VULKAN_SDK)\Bin\glslc.exe &quot;$(SolutionDir)Shaders\%25%25~nf.comp&quot; -o &quot;$(SolutionDir)Shaders\Compiled\%25%25~nf.comp.spv&quot;&#xD;&#xA;)&#xD;&#xA;&#xD;&#xA;echo &quot;compiled compute shaders&quot;&#xD;&#xA;&#xD;&#xA;XCOPY /s /y &quot;$(SolutionDir)Shaders\Compiled&quot; &quot;$(TargetDir)Assets\Shaders&quot;&#xD;&#xA;echo &quot;copied shaders to output&quot;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;XCOPY /s /y &quot;$(SolutionDir)VECS\$(OutDir)Assets\Models&quot; &quot;$(TargetDir)Assets\Models&quot;&#xD;&#xA;XCOPY /s /y &quot;$(SolutionDir)Planets\$(OutDir)Assets\Models&quot; &quot;$(TargetDir)Assets\Models&quot;&#xD;&#xA;XCOPY /s /y &quot;$(ProjectDir)Assets\Models&quot; &quot;$(TargetDir)Assets\Models&quot;&#xD;&#xA;echo &quot;copied meshs to output&quot;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;XCOPY /s /y &quot;$(SolutionDir)VECS\$(OutDir)Assets\Textures&quot; &quot;$(TargetDir)Assets\Textures&quot;&#xD;&#xA;XCOPY /s /y &quot;$(SolutionDir)Planets\$(OutDir)Assets\Textures&quot; &quot;$(TargetDir)Assets\Textures&quot;&#xD;&#xA;XCOPY /s /y &quot;$(ProjectDir)Assets\Textures&quot; &quot;$(TargetDir)Assets\Textures&quot;&#xD;&#xA;echo &quot;copied textures to output&quot;" />
  </Target>

  <Target Name="PreBuild" BeforeTargets="PreBuildEvent">
    <Exec Command="rd /s /q $(TargetDir)Assets" />
  </Target>

</Project>
